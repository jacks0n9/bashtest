<<<<<<< HEAD
olddir=$PWD
: ${TMPDIR:=/var/tmp}
EMPTY=$TMPDIR/empty

=======
>>>>>>> orgin/bash-4.3-testing
shopt -s globstar
s()
{
  printf '== <%s> ==\n' "$@"
}
p()
{
  printf '<%q>\n' "$@"
}

<<<<<<< HEAD
mkdir -p $EMPTY/a/a/a
cd $EMPTY
=======
mkdir -p /tmp/empty/a/a/a
cd /tmp/empty
>>>>>>> orgin/bash-4.3-testing

# good
p **
p **/**
p **/**/**

rm -rf a
<<<<<<< HEAD
mkdir -p $EMPTY/{a,b}/{a,b}/{a,b}/{a,b}
cd $EMPTY
=======
mkdir -p /tmp/empty/{a,b}/{a,b}/{a,b}/{a,b}
cd /tmp/empty
>>>>>>> orgin/bash-4.3-testing

# good
s '**/a'
p **/a

# good
s 'a/**'
p a/**

# good
s '**'
p **

# good
s '**/**'
p **/**

# good
s '**/**/**'
p **/**/**

# good
s '**/**/**/**/**'
p **/**/**/**/**

# good
s '**/**/a'
p **/**/a

# good 
s 'a/**/**'
p a/**/**

# good
s 'a/**/**/**'
p a/**/**/**

# good
s 'a/**/**/**/**'
p a/**/**/**/**

# same as ksh93
s '**/a/**'
p **/a/**

# same as ksh93
s '**/a/**/**'
p **/a/**/**

# same as ksh93
s '**/a/**/**/**'
p **/a/**/**/**

# good
s '**/**/a/**'
p **/**/a/**

<<<<<<< HEAD
cd "$olddir"
rm -rf $EMPTY
=======
cd -
rm -rf /tmp/empty
>>>>>>> orgin/bash-4.3-testing
